syntax = "proto3";
option go_package = "github.com/alvidir/tp-auth/proto/app";

package app;

enum Status {
    ALIVE = 0;
    OLD = 1;
    DEAD = 2;
    NEW = 3;
}

message AppRequest {
  string name = 1;
  string url = 2;
  Status public_key = 3;
}

message AppResponse {
  string cookie = 1;
  int64 deadline = 2;
  Status status = 3;
}

service Application {
  rpc Register(AppRequest) returns (AppResponse);
}